# Тестовое задание osmi-it

_Автор: samokander_

## Задание

1. Переписать с Solidity 0.6.6 → 0.8.20+.

2. Убрать SafeMath, обновить OpenZeppelin, адаптировать интерфейсы.

3. Сохранить всю логику (флешлон Aave, свопы DEX, whitelist, profit withdraw).

4. Добавить: custom errors, access control, nonReentrant, Pausable, safe approve.

5. Оптимизация: immutable, constant, unchecked loops.

6. Документация (NatSpec), читаемые имена, комментарии.

## Лог

Миграцию контракта будем производить на последнюю досутпную версию компилятора 0.8.30.

Legacy контракт не компилируется из за ошибок Stack too deep. Эти ошибки в самом легаси контракте решено не исправлять, они пропадут при миграции. Соответственно компилятор настроен на рабочую директорию src/new, чтобы не ловить ошибки при компиляции обновленных контрактов.

Так как контракт должен работать с hardcoded адресами, интерфейсы оставляем в текущем виде. Отрефакторим для удобства.
